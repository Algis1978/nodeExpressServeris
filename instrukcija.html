<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Node express serveris</title>
</head>
<body>
    <h1>Node express serveris</h1>
    <h2>Naudojimas</h2>
<ul>
    <li>Susikuriamas projekto katalogas ir <em>package.json</em> byla su <em>npm init</em>.</li>
    <li>Susikuriama darbinė JS byla <em>eserveris.js
    </em> byla.</li>
    <li>Express biblioteka įdiegiama su <em>npm i express</em> terminale.</li>
    <li>Inicijavimas iš <a href="http://expressjs.com/en/starter/installing.html">Of. tinklalapio</a>: <ul><li>import express from "express";<br>
        const app = express() //sukurta programa<br>
        const port = 3000 // laukiama iš 3000 porto<br>
        const web = "WEB"; // kintamasis rodo į pakatalogį "WEB"</li></ul></li>
        <li>Nurodomas 'endpointas', kuris priima serverio užklausą ir grąžina atsakymą pagal argumentą:<ul><li>app.get('/', (req, res) => {<br>
            res.send('Yooooh broh!')//Nusiunčia pranešimą jei ieškomas "/".
            }) </li>
            <li>res.send siunčia tekstinį atsakymą, pvz.: HTML kodą.</li></ul></li>
            <li>Nurodoma serveriui atsiliepti: <ul><li>app.listen(port, () => {<br>
            console.log(`Example app listening at http://localhost:${port}`)
            })</li></ul></li>
            <li>Ieškomos bylos. Ieškoma index.html byla nurodytame "web" kataloge, kai nenurodomas papildomas kelias:
            <ul><li>app.use (express.static(web, {index:"index.html"))</li>
            <li>app.use (express.static(web, {index:["index.html", "testCss.css"]})) // ieškoma tarp kelių bylų</li>
            <li>Nurodžius {index:false} operacija bus praleista.</li></ul>
        </li>
        <li>"app.get" metodas atsiliepia į naršyklės užklausą su GET, app.post - į užklauą su POST.</li>
        <li>Formos 'input name' laukelis turi būti užpildytas. Nes su jais naršyklė formuoja užklausą.</li> 
        <li> "Submit" type mygtuko nuspaudimas formoje suformuos "POST" tipo naršyklės užklausą.</li>
        <li><em>express.urlencoded</em> metodas perskaito naršyklės užklausą ir ištraukia reikalingus duomenis iš POST užklausos.</li>
            <ul><li>Pvz., užpildžius formos laukelius (su name atributais):</li> 
            <li> app.use (express.urlencoded({extended:true})) suves duomenis į req.body objektą:</li>
            <li>(console.log(req.body)): { vardas: 'hrhrwh', pavarde: 'whtwhh', atlyginimas: '67' }</li>
            <li>Papildomai galima įvesti validaciją su if else išmetant lietuviškus klaidos pavadinimus (jei nepakanka HTML validacijos)</li></ul>
        <li>Duomenis galima koreguoti. Tam reikia įvesti naują mygtuką arba nuorodą iš vardo/pavardės.</li>

</ul>
</body>
</html>